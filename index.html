<!DOCTYPE html>
<html>
<head>
    <title>AI Email Assistant</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .email { border-left: 4px solid #3b82f6; padding: 15px; margin: 10px 0; background: #f8fafc; }
        .urgent { border-left-color: #ef4444; background: #fef2f2; }
        .response { background: #fff; padding: 10px; margin-top: 10px; border: 1px solid #ddd; }
    </style>
</head>
<body>
    <h1>ðŸ“¬ AI Communication Assistant</h1>
    <div id="emails"></div>

    <script>
        async function loadEmails() {
            const res = await fetch('http://localhost:5000/api/emails');
            const emails = await res.json();
            const container = document.getElementById('emails');
            container.innerHTML = emails.map(email => `
                <div class="email ${email.priority === 'Urgent' ? 'urgent' : ''}">
                    <strong>${email.subject}</strong> <small>(${email.priority})</small><br>
                    From: ${email.sender}<br>
                    <div class="response">${email.response_draft}</div>
                </div>
            `).join('');
        }
        loadEmails();
        setInterval(loadEmails, 10000); // Refresh every 10s
    </script>
</body>
</html>